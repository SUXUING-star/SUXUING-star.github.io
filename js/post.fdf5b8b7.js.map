{"version":3,"file":"js/post.fdf5b8b7.js","mappings":"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","sources":["webpack://xingyunchaju/./src/views/PostDetail.vue","webpack://xingyunchaju/./src/views/PostDetail.vue?b0ff"],"sourcesContent":["<!-- PostDetail.vue -->\n<template>\n  <div class=\"detail-post\" v-if=\"post\">\n    <div class=\"detail-header\">\n      <h1>{{ post.title }}</h1>\n      <div class=\"detail-meta\">\n        <time :datetime=\"post.date\">{{ post.date }}</time>\n        <div class=\"meta-divider\"></div>\n        <span class=\"detail-word-count\">{{ wordCount }} 字</span>\n        <div class=\"meta-divider\"></div>\n        <span class=\"detail-reading-time\">{{ readingTime }} 分钟阅读</span>\n      </div>\n    </div>\n    \n    <div class=\"detail-container\">\n      <div class=\"detail-main\">\n        <!-- 文章主体内容 -->\n        <div class=\"detail-content markdown-body\" v-html=\"renderedContent\" ref=\"contentRef\"></div>\n      </div>\n\n      <!-- 右侧导航栏 -->\n      <aside class=\"detail-sidebar\">\n        <!-- 文章目录 -->\n        <div class=\"sidebar-section toc-section\" v-if=\"tableOfContents\">\n          <h3 class=\"sidebar-title\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" \n                 stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <line x1=\"21\" y1=\"10\" x2=\"7\" y2=\"10\"></line>\n              <line x1=\"21\" y1=\"6\" x2=\"3\" y2=\"6\"></line>\n              <line x1=\"21\" y1=\"14\" x2=\"3\" y2=\"14\"></line>\n              <line x1=\"21\" y1=\"18\" x2=\"7\" y2=\"18\"></line>\n            </svg>\n            目录\n          </h3>\n          <nav class=\"toc-nav\" v-html=\"tableOfContents\"></nav>\n        </div>\n\n        <!-- 阅读进度 -->\n        <div class=\"sidebar-section progress-section\">\n          <h3 class=\"sidebar-title\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\"\n                 stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <path d=\"M12 20h9\"></path>\n              <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path>\n            </svg>\n            阅读进度\n          </h3>\n          <div class=\"progress-bar\">\n            <div class=\"progress-inner\" :style=\"{ width: readingProgress + '%' }\"></div>\n          </div>\n          <div class=\"progress-text\">{{ readingProgress }}%</div>\n        </div>\n\n        <!-- 最近文章 -->\n        <div class=\"sidebar-section recent-posts\">\n          <h3 class=\"sidebar-title\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\"\n                 stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n              <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path>\n              <polyline points=\"14 2 14 8 20 8\"></polyline>\n              <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"></line>\n              <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"></line>\n              <polyline points=\"10 9 9 9 8 9\"></polyline>\n            </svg>\n            最近文章\n          </h3>\n          <ul class=\"recent-posts-list\">\n            <li v-for=\"recentPost in recentPosts\" :key=\"recentPost.id\" \n                :class=\"{ active: recentPost.id === post.id }\">\n              <router-link :to=\"'/post/' + recentPost.id\">\n                {{ recentPost.title }}\n                <span class=\"post-date\">{{ recentPost.date }}</span>\n              </router-link>\n            </li>\n          </ul>\n        </div>\n      </aside>\n    </div>\n  </div>\n</template>\n  \n<script>\nimport { computed, onMounted, ref, watch, nextTick, onBeforeUnmount } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { marked } from 'marked'\nimport Prism from 'prismjs'\nimport 'prismjs/themes/prism-tomorrow.css'\nimport 'prismjs/components/prism-markup'\nimport 'prismjs/components/prism-css'\nimport 'prismjs/components/prism-javascript'\nimport 'prismjs/components/prism-typescript'\nimport 'prismjs/components/prism-python'\nimport 'prismjs/components/prism-bash'\nimport 'prismjs/components/prism-json'\nimport 'prismjs/plugins/line-numbers/prism-line-numbers'\nimport 'prismjs/plugins/line-numbers/prism-line-numbers.css'\n\nexport default {\n  name: 'PostDetailPage',\n  setup() {\n    const route = useRoute()\n    const store = useStore()\n    const contentRef = ref(null)\n    const readingProgress = ref(0)\n    const tableOfContents = ref('')\n\n    const post = computed(() => \n      store.state.posts.find(p => p.id === parseInt(route.params.id))\n    )\n\n    const wordCount = computed(() => {\n      if (!post.value?.content) return 0\n      return post.value.content.replace(/\\s+/g, '').length\n    })\n\n    const readingTime = computed(() => {\n      return Math.ceil(wordCount.value / 300)\n    })\n\n    const recentPosts = computed(() => {\n      return store.state.posts\n        .slice()\n        .sort((a, b) => new Date(b.date) - new Date(a.date))\n        .slice(0, 5)\n    })\n\n    // 配置 MathJax\n    const configureMathJax = () => {\n      window.MathJax = {\n        tex: {\n          inlineMath: [['$', '$'], ['\\\\(', '\\\\)']],\n          displayMath: [['$$', '$$'], ['\\\\[', '\\\\]']],\n          processEscapes: true,\n        },\n        svg: {\n          fontCache: 'global'\n        },\n        options: {\n          skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']\n        }\n      }\n      // 动态加载 MathJax\n      const script = document.createElement('script')\n      script.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-svg.min.js'\n      script.async = true\n      document.head.appendChild(script)\n    }\n    \n\n    const configureMarked = () => {\n      const renderer = new marked.Renderer()\n\n      // Generate unique IDs for headers\n      // 改进标题ID生成\n      renderer.heading = (text, level) => {\n        // 移除HTML标签，只保留文本内容\n        const plainText = text.replace(/<[^>]*>/g, '')\n        \n        // 生成ID：处理中英文字符\n        const slug = plainText\n          .toLowerCase()\n          .replace(/[\\s\\u4e00-\\u9fa5]+/g, '-') // 处理空格和中文字符\n          .replace(/[^\\w\\u4e00-\\u9fa5-]/g, '') // 保留中文、字母、数字和连字符\n          .replace(/-+/g, '-') // 将多个连字符替换为单个\n          .replace(/^-|-$/g, '') // 移除首尾的连字符\n        \n        return `\n          <h${level} id=\"${slug}\" class=\"heading-anchor\">\n            <span class=\"anchor-marker\" id=\"${slug}-marker\"></span>\n            ${text}\n          </h${level}>\n        `\n      }\n      // 添加数学公式处理\n      const originalParagraph = renderer.paragraph.bind(renderer)\n      renderer.paragraph = (text) => {\n        // 处理行内数学公式 - 修复 ESLint 警告\n        const inlineMathRegex = /\\$([^$]+)\\$/g\n        text = text.replace(inlineMathRegex, (match, p1) => {\n          return `<span class=\"inline-math\">\\\\(${p1}\\\\)</span>`\n        })\n        \n        // 处理块级数学公式\n        if (text.startsWith('$$') && text.endsWith('$$')) {\n          const formula = text.slice(2, -2)\n          return `<div class=\"math-block\">\\\\[${formula}\\\\]</div>`\n        }\n        \n        return originalParagraph(text)\n      }\n\n      marked.setOptions({\n        renderer,\n        gfm: true,\n        breaks: true,\n        smartLists: true\n      })\n    }\n\n    const generateTableOfContents = () => {\n  if (!contentRef.value) {\n    console.warn('contentRef is null')\n    return ''\n  }\n  \n  // 使用更广泛的选择器，并添加调试日志\n  const headings = contentRef.value.querySelectorAll('h2, h3, h4')\n  \n  console.log('Headings found:', headings.length)\n  if (headings.length === 0) {\n    console.warn('No headings found in the content')\n    return ''\n  }\n\n  let toc = '<nav class=\"table-of-contents\"><ul class=\"toc-list\">'\n  let prevLevel = 2\n  let levelStack = [prevLevel]\n\n  headings.forEach((heading, index) => {\n    // 打印每个标题的详细信息用于调试\n    console.log(`Heading ${index}:`, {\n      text: heading.textContent,\n      tagName: heading.tagName,\n      id: heading.id\n    })\n\n    const level = parseInt(heading.tagName.charAt(1))\n    const text = heading.textContent.trim()\n    \n    // 如果没有id，动态生成一个\n    const id = heading.id || `heading-${index}`\n    \n    // 处理嵌套层级\n    if (level > prevLevel) {\n      toc += '<ul class=\"toc-sublist\">'\n      levelStack.push(level)\n    } else if (level < prevLevel) {\n      while (levelStack.length > 0 && levelStack[levelStack.length - 1] >= level) {\n        toc += '</ul>'\n        levelStack.pop()\n      }\n    }\n\n    // 确保href包含正确的id\n    toc += `\n      <li class=\"toc-item level-${level}\">\n        <a href=\"#${id}\" class=\"toc-link\" data-level=\"${level}\">\n          ${text}\n        </a>\n      </li>\n    `\n\n    prevLevel = level\n  })\n\n  // 关闭所有剩余的嵌套列表\n  while (levelStack.length > 1) {\n    toc += '</ul>'\n    levelStack.pop()\n  }\n\n  toc += '</ul></nav>'\n  \n  // 添加调试日志，检查生成的目录\n  console.log('Generated TOC:', toc)\n  \n  return toc\n  }\n\n    const processMarkdownContent = (content) => {\n      if (!content) return ''\n      return marked.parse(content)\n    }\n\n    const renderedContent = computed(() => {\n      if (!post.value?.content) return ''\n      try {\n        return processMarkdownContent(post.value.content)\n      } catch (err) {\n        console.error('Markdown rendering error:', err)\n        return '<p>Error rendering content</p>'\n      }\n    })\n     // 处理 MathJax 渲染\n     const renderMathJax = () => {\n      if (window.MathJax) {\n        window.MathJax.typesetPromise?.()\n      }\n    }\n    // 改进点击处理函数\n    const handleTocClick = (e) => {\n      const link = e.target.closest('.toc-link')\n      if (link) {\n        e.preventDefault()\n        const targetId = link.getAttribute('href').slice(1)\n        const targetElement = document.getElementById(targetId)\n        \n        if (targetElement) {\n          // 获取header的位置并考虑固定导航栏的高度（如果有的话）\n          const headerOffset = 80 // 根据你的导航栏高度调整这个值\n          const elementPosition = targetElement.getBoundingClientRect().top\n          const offsetPosition = elementPosition + window.pageYOffset - headerOffset\n\n          window.scrollTo({\n            top: offsetPosition,\n            behavior: 'smooth'\n          })\n\n          // 可选：添加高亮效果\n          targetElement.classList.add('highlight')\n          setTimeout(() => {\n            targetElement.classList.remove('highlight')\n          }, 2000)\n        }\n      }\n    }\n\n    watch(renderedContent, () => {\n      nextTick(() => {\n        Prism.highlightAll()\n        tableOfContents.value = generateTableOfContents()\n        updateReadingProgress()\n        renderMathJax()\n        // 为目录添加点击事件监听\n        const tocElement = document.querySelector('.table-of-contents')\n        if (tocElement) {\n          tocElement.addEventListener('click', handleTocClick)\n        }\n      })\n    })\n    onMounted(() => {\n      configureMarked()\n      configureMathJax()\n      window.addEventListener('scroll', updateReadingProgress)\n\n      nextTick(() => {\n        Prism.highlightAll()\n        tableOfContents.value = generateTableOfContents()\n        updateReadingProgress()\n      })\n    })\n\n    onBeforeUnmount(() => {\n      window.removeEventListener('scroll', updateReadingProgress)\n      // 移除目录点击事件监听\n      const tocElement = document.querySelector('.table-of-contents')\n      if (tocElement) {\n        tocElement.removeEventListener('click', handleTocClick)\n      }\n    })\n\n    \n\n    const updateReadingProgress = () => {\n      if (!contentRef.value) return\n      const contentHeight = contentRef.value.offsetHeight\n      const scrollPosition = window.scrollY\n      const windowHeight = window.innerHeight\n      const progress = (scrollPosition / (contentHeight - windowHeight)) * 100\n      readingProgress.value = Math.min(Math.max(Math.round(progress), 0), 100)\n    }\n\n    return {\n      post,\n      contentRef,\n      tableOfContents,\n      readingProgress,\n      wordCount,\n      readingTime,\n      recentPosts,\n      renderedContent\n    }\n  }\n}\n</script>\n\n  \n  <style>\n.detail-post {\n  max-width: 1600px;  /* 从 1400px 增加到 1600px */\n  margin: 0 auto;\n  padding: 0.3rem;\n}\n\n.detail-header {\n  text-align: center;\n  max-width: 800px;  /* 从 1000px 增加到 1200px */\n  margin: 0 auto 2rem;\n  padding: 2rem 1rem;\n  background: linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(238, 242, 247, 0.95) 100%);\n  border-radius: 16px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  position: relative;\n  overflow: hidden;\n}\n/* 添加背景装饰 */\n.detail-header::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  background: linear-gradient(90deg, #42b883, #3aa876);\n}\n.detail-header h1 {\n  font-size: 1.75rem;\n  color: #2c3e50;\n  margin-bottom: 0.75rem;\n  line-height: 1.3;\n  font-weight: 600;\n}\n\n.detail-meta {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 2rem;\n  color: #64748b;\n  font-size: 0.9375rem;\n  position: relative;\n}\n\n.detail-meta::before,\n.detail-meta::after {\n  content: '';\n  height: 1px;\n  width: 50px;\n  background: #e2e8f0;\n  margin: 0 1rem;\n}\n\n\n.detail-reading-time {\n  display: flex;\n  margin: 0 auto;\n  gap: 0.5rem;\n  padding: 0.25rem 0.75rem;\n  background: rgba(66, 184, 131, 0.1);\n  border-radius: 20px;\n  color: #42b883;\n  font-weight: 500;\n}\n\n\n.detail-container {\n  display: grid;\n  grid-template-columns: 1fr 280px;  /* 右侧导航栏从 300px 减少到 280px */\n  gap: 2rem;\n  max-width: 1600px;  /* 从 1200px 增加到 1600px，与 .detail-post 保持一致 */\n  margin: 0 auto;\n  position: relative;\n}\n.detail-toc {\n  position: sticky;\n  top: 5rem;\n  height: fit-content;\n  background: #ffffff;\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  border: 1px solid #eef2f7;\n}\n\n.detail-toc-title {\n  font-size: 1rem;\n  font-weight: 600;\n  color: #2c3e50;\n  margin-bottom: 1rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 2px solid #42b883;\n}\n\n.detail-toc-content {\n  font-size: 0.875rem;\n  line-height: 1.6;\n}\n\n.detail-toc-content a {\n  color: #4a5568;\n  text-decoration: none;\n  display: block;\n  padding: 0.25rem 0;\n  transition: color 0.2s ease;\n}\n\n.detail-toc-content a:hover {\n  color: #42b883;\n}\n\n.detail-content {\n  background: #ffffff !important;\n  padding: 2.5rem;\n  border-radius: 12px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n  border: 1px solid #eef2f7;\n  max-width: 100%;  /* 确保内容不会溢出容器 */\n}\n\n/* 文章内容样式优化 */\n.detail-content h1,\n.detail-content h2,\n.detail-content h3,\n.detail-content h4 {\n  margin-top: 2rem;\n  margin-bottom: 1rem;\n  color: #2c3e50;\n  font-weight: 600;\n  line-height: 1.4;\n}\n\n.detail-content h1 {\n  font-size: 1.875rem;\n  border-bottom: 2px solid #eef2f7;\n  padding-bottom: 0.5rem;\n}\n\n.detail-content h2 {\n  font-size: 1.5rem;\n}\n\n.detail-content h3 {\n  font-size: 1.25rem;\n}\n\n.detail-content p {\n  margin: 1.25rem 0;\n  line-height: 1.8;\n  color: #4a5568;\n}\n\n.detail-content a {\n  color: #42b883;\n  text-decoration: none;\n  border-bottom: 1px solid transparent;\n  transition: border-color 0.2s ease;\n}\n\n.detail-content a:hover {\n  border-bottom-color: #42b883;\n}\n\n.detail-content blockquote {\n  margin: 1.5rem 0;\n  padding: 1rem 1.5rem;\n  border-left: 4px solid #42b883;\n  background: #f8fafc;\n  border-radius: 4px;\n  color: #4a5568;\n  font-style: italic;\n}\n\n.detail-content pre {\n  margin: 1.5rem 0;\n  padding: 1.25rem;\n  border-radius: 8px;\n  background: #2d3748 !important;\n  overflow-x: auto;\n}\n\n/* 调整图片最大宽度 */\n.detail-content img {\n  max-width: 80%; \n  height: auto;\n  display: block;\n  margin: 2rem auto;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.code-block-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 1rem;\n  background: #2d2d2d;\n  border-bottom: 1px solid #404040;\n}\n\n.code-block-language {\n  color: #e2e8f0;\n  font-size: 0.875rem;\n  font-family: 'Fira Code', monospace;\n}\n\n.code-block-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.code-collapse-btn,\n.code-copy-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.25rem;\n  background: rgba(255, 255, 255, 0.1);\n  border: none;\n  border-radius: 4px;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.code-collapse-btn:hover,\n.code-copy-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.code-block-content {\n  transition: max-height 0.3s ease-in-out;\n  max-height: 1000px; /* 调整此值以适应较长的代码块 */\n  overflow: hidden;\n}\n\n.code-block-content.collapsed {\n  max-height: 0;\n}\n\n.collapse-icon {\n  transition: transform 0.3s ease;\n}\n\n.code-block-wrapper {\n  margin: 1.5rem 0;\n  border-radius: 8px;\n  overflow: hidden;\n  background: #1a1a1a;\n}\n\n/* 修改原有的复制按钮样式 */\n.code-copy-btn {\n  position: static; /* 取消绝对定位 */\n  opacity: 1; /* 始终显示 */\n}\n\n/* 移除原有的悬停显示复制按钮的效果 */\n.code-block-wrapper:hover .code-copy-btn {\n  opacity: 1;\n}\n\n/* 代码样式优化 */\n.detail-content pre code {\n  font-family: 'Fira Code', Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\n  font-size: 0.9em;\n  line-height: 1.5;\n  -webkit-font-smoothing: antialiased;\n}\n\n/* 内联代码样式 */\n.detail-content :not(pre) > code {\n  background: rgba(66, 184, 131, 0.1) !important;\n  color: #42b883 !important;\n  padding: 0.2em 0.4em !important;\n  border-radius: 4px !important;\n  font-size: 0.875em !important;\n  font-family: 'Fira Code', monospace !important;\n}\n\n/* Prism.js 主题覆盖 */\n:not(pre) > code[class*=\"language-\"],\npre[class*=\"language-\"] {\n  background: #1a1a1a !important;\n}\n\n.line-numbers .line-numbers-rows {\n  border-right: 1px solid #404040 !important;\n  padding-right: 0.5rem;\n}\n\n/* 响应式设计 */\n@media (max-width: 1024px) {\n  .detail-container {\n    grid-template-columns: 1fr;\n    max-width: 900px;\n  }\n\n  .detail-toc {\n    display: none;\n  }\n}\n\n/* 优化移动端显示 */\n@media (max-width: 768px) {\n  .detail-post {\n    padding: 0.5rem;\n  }\n  \n  .detail-content {\n    padding: 1.5rem;\n  }\n}\n/* 代码高亮样式微调 */\n.detail-content :not(pre) > code {\n  background: #f1f5f9;\n  color: #ef4444;\n  padding: 0.2em 0.4em;\n  border-radius: 4px;\n  font-size: 0.875em;\n  font-family: 'Fira Code', monospace;\n}\n\n/* 数学公式块样式 */\n.detail-content .math-block {\n  margin: 1.5rem 0;\n  padding: 1rem;\n  background: #f8fafc;\n  border-radius: 8px;\n  overflow-x: auto;\n}\n.code-block-wrapper {\n  position: relative;\n  margin: 1.5rem 0;\n  border-radius: 8px;\n  overflow: hidden;\n  background: #1a1a1a;\n}\n\n.code-block-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  background: #2d2d2d;\n  border-bottom: 1px solid #404040;\n}\n\n.code-block-language {\n  color: #e2e8f0;\n  font-size: 0.875rem;\n  font-family: monospace;\n  text-transform: uppercase;\n}\n\n.code-block-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.code-collapse-btn,\n.code-copy-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 28px;\n  height: 28px;\n  padding: 0;\n  background: rgba(255, 255, 255, 0.1);\n  border: none;\n  border-radius: 4px;\n  color: #fff;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.code-collapse-btn:hover,\n.code-copy-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.code-block-content {\n  transition: max-height 0.3s ease-in-out;\n  max-height: 1000px;\n  overflow: hidden;\n}\n\n.code-block-content.collapsed {\n  display: none; /* 折叠时隐藏内容 */\n}\n\n.collapse-icon {\n  transition: transform 0.3s ease;\n}\n\n.collapse-icon.rotate-180 {\n  transform: rotate(180deg);\n}\n\n.copy-icon,\n.check-icon {\n  width: 16px;\n  height: 16px;\n}\n\n.hidden {\n  display: none;\n}\n/* 增加新的样式 */\n.detail-container {\n  display: grid;\n  grid-template-columns: 1fr 300px;\n  gap: 2rem;\n  max-width: 1200px;\n  margin: 0 auto;\n  position: relative;\n}\n\n.detail-main {\n  min-width: 0; /* 防止内容溢出 */\n}\n\n.detail-sidebar {\n  position: sticky;\n  top: 2rem;\n  height: calc(100vh - 4rem);\n  overflow-y: auto;\n  padding-right: 1rem;\n  width: 280px;  /* 明确设置宽度 */\n}\n\n.sidebar-section {\n  background: #ffffff;\n  border-radius: 12px;\n  padding: 1.25rem;\n  margin-bottom: 1.5rem;\n  border: 1px solid #eef2f7;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n.sidebar-title {\n  font-size: 1rem;\n  font-weight: 600;\n  color: #2c3e50;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n/* 目录样式 */\n.toc-nav {\n  font-size: 0.875rem;\n}\n\n.toc-list, .toc-sublist {\n  list-style: none;\n  padding-left: 0;\n}\n\n.toc-sublist {\n  padding-left: 1rem;\n}\n\n.toc-link {\n  color: #4a5568;\n  text-decoration: none;\n  display: block;\n  padding: 0.25rem 0;\n  transition: all 0.2s ease;\n  border-left: 2px solid transparent;\n  padding-left: 0.5rem;\n}\n\n.toc-link:hover {\n  color: #42b883;\n  border-left-color: #42b883;\n}\n\n/* 阅读进度条样式 */\n.progress-bar {\n  height: 6px;\n  background: #edf2f7;\n  border-radius: 3px;\n  overflow: hidden;\n  margin: 0.5rem 0;\n}\n\n.progress-inner {\n  height: 100%;\n  background: linear-gradient(90deg, #42b883, #3aa876);\n  transition: width 0.3s ease;\n}\n\n.progress-text {\n  font-size: 0.875rem;\n  color: #718096;\n  text-align: center;\n}\n\n/* 最近文章列表样式 */\n.recent-posts-list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.recent-posts-list li {\n  margin-bottom: 0.75rem;\n}\n\n.recent-posts-list a {\n  color: #4a5568;\n  text-decoration: none;\n  display: block;\n  padding: 0.5rem;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n}\n\n.recent-posts-list a:hover {\n  background: #f7fafc;\n  color: #42b883;\n}\n\n.recent-posts-list .active a {\n  background: rgba(66, 184, 131, 0.1);\n  color: #42b883;\n}\n\n.post-date {\n  font-size: 0.75rem;\n  color: #718096;\n  display: block;\n  margin-top: 0.25rem;\n}\n\n/* 元信息样式优化 */\n.detail-meta {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 1rem;\n}\n\n.meta-divider {\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background: #cbd5e0;\n}\n\n/* 响应式设计 */\n@media (max-width: 1024px) {\n  .detail-container {\n    grid-template-columns: 1fr;\n  }\n  \n  .detail-sidebar {\n    display: none;\n  }\n}\n</style>","import { render } from \"./PostDetail.vue?vue&type=template&id=4b0b6e8e\"\nimport script from \"./PostDetail.vue?vue&type=script&lang=js\"\nexport * from \"./PostDetail.vue?vue&type=script&lang=js\"\n\nimport \"./PostDetail.vue?vue&type=style&index=0&id=4b0b6e8e&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["key","class","$setup","post","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","title","_hoisted_3","datetime","date","_hoisted_4","_hoisted_5","wordCount","_hoisted_6","readingTime","_hoisted_7","_hoisted_8","innerHTML","renderedContent","ref","_hoisted_9","_hoisted_10","tableOfContents","_hoisted_11","_createStaticVNode","_hoisted_12","_createCommentVNode","_hoisted_13","xmlns","width","height","viewBox","fill","stroke","d","_createTextVNode","_hoisted_14","style","_normalizeStyle","readingProgress","_hoisted_15","_hoisted_16","_hoisted_17","_Fragment","_renderList","recentPosts","recentPost","id","_normalizeClass","active","_createVNode","_component_router_link","to","default","_withCtx","_hoisted_18","_","name","setup","route","useRoute","store","useStore","contentRef","computed","state","posts","find","p","parseInt","params","value","content","replace","length","Math","ceil","slice","sort","a","b","Date","configureMathJax","window","MathJax","tex","inlineMath","displayMath","processEscapes","svg","fontCache","options","skipHtmlTags","script","document","createElement","src","async","head","appendChild","configureMarked","renderer","marked","Renderer","heading","text","level","plainText","slug","toLowerCase","originalParagraph","paragraph","bind","inlineMathRegex","match","p1","startsWith","endsWith","formula","setOptions","gfm","breaks","smartLists","generateTableOfContents","console","warn","headings","querySelectorAll","log","toc","prevLevel","levelStack","forEach","index","textContent","tagName","charAt","trim","push","pop","processMarkdownContent","parse","err","error","renderMathJax","typesetPromise","handleTocClick","e","link","target","closest","preventDefault","targetId","getAttribute","targetElement","getElementById","headerOffset","elementPosition","getBoundingClientRect","top","offsetPosition","pageYOffset","scrollTo","behavior","classList","add","setTimeout","remove","watch","nextTick","Prism","updateReadingProgress","tocElement","querySelector","addEventListener","onMounted","onBeforeUnmount","removeEventListener","contentHeight","offsetHeight","scrollPosition","scrollY","windowHeight","innerHeight","progress","min","max","round","__exports__","render"],"sourceRoot":""}