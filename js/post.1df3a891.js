"use strict";(self["webpackChunkxingyunchaju"]=self["webpackChunkxingyunchaju"]||[]).push([[205],{7607:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var s=n(6768),i=n(4232);const l={key:0,class:"detail-post"},a={class:"detail-header"},r={class:"detail-meta"},o=["datetime"],d={class:"detail-word-count"},c={class:"detail-reading-time"},h={class:"detail-container"},p={class:"detail-main"},u=["innerHTML"],v={class:"detail-sidebar"},g={key:0,class:"sidebar-section toc-section"},k=["innerHTML"],w={class:"sidebar-section progress-section"},x={class:"progress-bar"},L={class:"progress-text"},m={class:"sidebar-section recent-posts"},f={class:"recent-posts-list"},y={class:"post-date"};function C(e,t,n,C,$,b){const M=(0,s.g2)("router-link");return C.post?((0,s.uX)(),(0,s.CE)("div",l,[(0,s.Lk)("div",a,[(0,s.Lk)("h1",null,(0,i.v_)(C.post.title),1),(0,s.Lk)("div",r,[(0,s.Lk)("time",{datetime:C.post.date},(0,i.v_)(C.post.date),9,o),t[0]||(t[0]=(0,s.Lk)("div",{class:"meta-divider"},null,-1)),(0,s.Lk)("span",d,(0,i.v_)(C.wordCount)+" 字",1),t[1]||(t[1]=(0,s.Lk)("div",{class:"meta-divider"},null,-1)),(0,s.Lk)("span",c,(0,i.v_)(C.readingTime)+" 分钟阅读",1)])]),(0,s.Lk)("div",h,[(0,s.Lk)("div",p,[(0,s.Lk)("div",{class:"detail-content markdown-body",innerHTML:C.renderedContent,ref:"contentRef"},null,8,u)]),(0,s.Lk)("aside",v,[C.tableOfContents?((0,s.uX)(),(0,s.CE)("div",g,[t[2]||(t[2]=(0,s.Fv)('<h3 class="sidebar-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line></svg> 目录 </h3>',1)),(0,s.Lk)("nav",{class:"toc-nav",innerHTML:C.tableOfContents},null,8,k)])):(0,s.Q3)("",!0),(0,s.Lk)("div",w,[t[3]||(t[3]=(0,s.Lk)("h3",{class:"sidebar-title"},[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s.Lk)("path",{d:"M12 20h9"}),(0,s.Lk)("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]),(0,s.eW)(" 阅读进度 ")],-1)),(0,s.Lk)("div",x,[(0,s.Lk)("div",{class:"progress-inner",style:(0,i.Tr)({width:C.readingProgress+"%"})},null,4)]),(0,s.Lk)("div",L,(0,i.v_)(C.readingProgress)+"%",1)]),(0,s.Lk)("div",m,[t[4]||(t[4]=(0,s.Fv)('<h3 class="sidebar-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg> 最近文章 </h3>',1)),(0,s.Lk)("ul",f,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(C.recentPosts,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.id,class:(0,i.C4)({active:e.id===C.post.id})},[(0,s.bF)(M,{to:"/post/"+e.id},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.v_)(e.title)+" ",1),(0,s.Lk)("span",y,(0,i.v_)(e.date),1)])),_:2},1032,["to"])],2)))),128))])])])])])):(0,s.Q3)("",!0)}n(4114),n(8992),n(2577),n(3949);var $=n(144),b=n(1387),M=n(4249),E=n(357),j=n(1017),P=n.n(j),W=(n(2093),n(2006),n(3206),n(5686),n(895),n(2059),n(9399),n(7316),{name:"PostDetailPage",setup(){const e=(0,b.lq)(),t=(0,M.Pj)(),n=(0,$.KR)(null),i=(0,$.KR)(0),l=(0,$.KR)(""),a=(0,s.EW)((()=>t.state.posts.find((t=>t.id===parseInt(e.params.id))))),r=(0,s.EW)((()=>a.value?.content?a.value.content.replace(/\s+/g,"").length:0)),o=(0,s.EW)((()=>Math.ceil(r.value/300))),d=(0,s.EW)((()=>t.state.posts.slice().sort(((e,t)=>new Date(t.date)-new Date(e.date))).slice(0,5))),c=()=>{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0},svg:{fontCache:"global"},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}};const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-svg.min.js",e.async=!0,document.head.appendChild(e)},h=()=>{const e=new E.xI.Renderer;e.heading=(e,t)=>{const n=e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");return`\n          <h${t} id="${n}">\n            ${e}\n          </h${t}>\n        `};const t=e.paragraph.bind(e);e.paragraph=e=>{const n=/\$([^$]+)\$/g;if(e=e.replace(n,((e,t)=>`<span class="inline-math">\\(${t}\\)</span>`)),e.startsWith("$$")&&e.endsWith("$$")){const t=e.slice(2,-2);return`<div class="math-block">\\[${t}\\]</div>`}return t(e)},E.xI.setOptions({renderer:e,gfm:!0,breaks:!0,smartLists:!0})},p=()=>{if(!n.value)return"";const e=n.value.querySelectorAll("h2, h3, h4");if(0===e.length)return"";let t='<ul class="toc-list">',s=[];e.forEach((e=>{const n=parseInt(e.tagName.charAt(1)),i=e.textContent,l=e.id;while(s.length>0&&s[s.length-1]>=n)t+="</ul>",s.pop();(0===s.length||s[s.length-1]<n)&&(t+="<ul>",s.push(n)),t+=`\n          <li>\n            <a href="#${l}" class="toc-link">\n              ${i}\n            </a>\n          </li>\n        `}));while(s.length>0)t+="</ul>",s.pop();return t},u=e=>e?E.xI.parse(e):"",v=(0,s.EW)((()=>{if(!a.value?.content)return"";try{return u(a.value.content)}catch(e){return console.error("Markdown rendering error:",e),"<p>Error rendering content</p>"}})),g=()=>{window.MathJax&&window.MathJax.typesetPromise?.()};(0,s.wB)(v,(()=>{(0,s.dY)((()=>{P().highlightAll(),l.value=p(),k(),g()}))})),(0,s.sV)((()=>{h(),c(),window.addEventListener("scroll",k),(0,s.dY)((()=>{P().highlightAll(),l.value=p(),k()}))})),(0,s.xo)((()=>{window.removeEventListener("scroll",k)}));const k=()=>{if(!n.value)return;const e=n.value.offsetHeight,t=window.scrollY,s=window.innerHeight,l=t/(e-s)*100;i.value=Math.min(Math.max(Math.round(l),0),100)};return{post:a,contentRef:n,tableOfContents:l,readingProgress:i,wordCount:r,readingTime:o,recentPosts:d,renderedContent:v}}}),H=n(1241);const T=(0,H.A)(W,[["render",C]]);var _=T}}]);
//# sourceMappingURL=post.1df3a891.js.map